<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<title>シンプルチェックリスト</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- iOS PWA対応 -->
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="default">
		<meta name="apple-mobile-web-app-title" content="チェックリスト">
		<link rel="apple-touch-icon" href="icon.png">

		<!-- Android & 他ブラウザ用 -->
		<link rel="manifest" href="manifest.json">
		<meta name="theme-color" content="#4CAF50">

<style>
    body {
	            font-family: "Segoe UI", Roboto, sans-serif;
		            padding: 20px;
			            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
				            min-height: 100vh;
					            margin: 0;
						        }
        h2 {
		        text-align: center;
			        color: #333;
				        margin-bottom: 20px;
					    }
	    #checklist {
		            max-width: 600px;
			            margin: 0 auto;
				        }
	        .checklist-item {
			        display: flex;
				        align-items: center;
					        background: #fff;
						        padding: 10px;
							        border-radius: 8px;
								        margin-bottom: 10px;
									        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
										        transition: transform 0.15s ease, box-shadow 0.15s ease;
											    }
		    .checklist-item:hover {
			            transform: translateY(-2px);
				            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
					        }
		        .checklist-item input[type="checkbox"] {
				        width: 20px;
					        height: 20px;
						        cursor: pointer;
							        accent-color: #4CAF50;
								    }
			    .checklist-item input[type="text"] {
				            flex: 1;
					            margin: 0 10px;
						            padding: 8px 10px;
							            border: 1px solid #ccc;
								            border-radius: 5px;
									            font-size: 14px;
										            transition: border-color 0.2s ease;
											        }
			        .checklist-item input[type="text"]:focus {
					        border-color: #4CAF50;
						        outline: none;
							        box-shadow: 0 0 5px rgba(76, 175, 80, 0.3);
								    }
				    button {
					            padding: 6px 12px;
						            border: none;
							            border-radius: 5px;
								            cursor: pointer;
									            font-size: 13px;
										            transition: background-color 0.2s ease, transform 0.1s ease;
											        }
				        button:hover {
						        transform: scale(1.05);
							    }
					    .clear-button {
						            background-color: #f0f0f0;
							            color: #333;
								        }
					        .clear-button:hover {
							        background-color: #e0e0e0;
								    }
						    .delete-button {
							            background-color: #f28b82;
								            color: white;
									            margin-left: 5px;
										        }
						        .delete-button:hover {
								        background-color: #e57373;
									    }
							    .hidden {
								            display: none !important;
									        }
							        #add-button {
									        display: block;
										        margin: 20px auto 0;
											        background-color: #4CAF50;
												        color: white;
													        font-size: 14px;
														        padding: 10px 20px;
															        border-radius: 25px;
																    }
								    #add-button:hover {
									            background-color: #45a049;
										        }
</style>

<script>
	if ('serviceWorker' in navigator) {
			  navigator.serviceWorker.register('service-worker.js')
			    .then(() => console.log('Service Worker registered'))
			    .catch(err => console.log('SW registration failed', err));
		}
</script>
	</head>
	<body>

		<h2>シンプルチェックリスト</h2>

		<div id="checklist"></div>

		<button id="add-button">＋ 項目を追加</button>

		<script>
			    const checklist = document.getElementById('checklist');
			    const addButton = document.getElementById('add-button');

			    function updateDeleteButtonsVisibility() {
							            const deleteButtons = checklist.querySelectorAll('.delete-button');
							            if (checklist.children.length <= 1) {
												                deleteButtons.forEach(btn => btn.classList.add('hidden'));
												            } else {
																	                deleteButtons.forEach(btn => btn.classList.remove('hidden'));
																	            }
							        }

			    function createChecklistItem() {
							            const item = document.createElement('div');
							            item.className = 'checklist-item';

							            const doneCheckbox = document.createElement('input');
							            doneCheckbox.type = 'checkbox';

							            const textInput = document.createElement('input');
							            textInput.type = 'text';
							            textInput.placeholder = 'ここに入力';

							            const clearButton = document.createElement('button');
							            clearButton.textContent = 'クリア';
							            clearButton.className = 'clear-button';
							            clearButton.addEventListener('click', () => {
												                textInput.value = '';
												            });

							            const deleteButton = document.createElement('button');
							            deleteButton.textContent = '削除';
							            deleteButton.className = 'delete-button';
							            deleteButton.addEventListener('click', () => {
												                item.remove();
												                updateDeleteButtonsVisibility();
												            });

							            item.appendChild(doneCheckbox);
							            item.appendChild(textInput);
							            item.appendChild(clearButton);
							            item.appendChild(deleteButton);

							            checklist.appendChild(item);
							            updateDeleteButtonsVisibility();
							        }

			    createChecklistItem();
			    addButton.addEventListener('click', createChecklistItem);
		</script>

	</body>
</html>
